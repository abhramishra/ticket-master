{"ast":null,"code":"var _jsxFileName = \"/Users/abhramishra/ticket-master/client/src/components/departments/List.js\";\nimport React from 'react';\nimport DepartmentForm from './Form';\nimport axios from '../../config/axios';\n\nclass DepartmentList extends React.Component {\n  constructor() {\n    super();\n\n    this.handleSubmit = formData => {\n      axios.post('/departments', formData, {\n        headers: {\n          'x-auth': localStorage.getItem('authToken')\n        }\n      }).then(response => {\n        const department = response.data;\n        this.setState(prevState => ({\n          departments: prevState.departments.concat(department)\n        }));\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    this.handleRemove = id => {\n      const confirm = window.confirm('Are you sure ?');\n\n      if (confirm) {\n        axios.delete(`/departments/${id}`, {\n          headers: {\n            'x-auth': localStorage.getItem('authToken')\n          }\n        }).then(response => {\n          const department = response.data;\n          this.setState(prevState => ({\n            departments: prevState.departments.filter(dept => dept._id != department._id)\n          }));\n        }).catch(err => {\n          alert(err);\n        });\n      }\n    };\n\n    this.state = {\n      departments: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get('/departments', {\n      headers: {\n        'x-auth': localStorage.getItem('authToken')\n      }\n    }).then(response => {\n      const departments = response.data;\n      this.setState({\n        departments\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Department - \", this.state.departments.length), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.departments.map(department => {\n      return React.createElement(\"li\", {\n        key: department._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, department.name, \" \", React.createElement(\"button\", {\n        onClick: () => {\n          this.handleRemove(department._id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"remove\"));\n    })), React.createElement(DepartmentForm, {\n      handleSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default DepartmentList;","map":{"version":3,"sources":["/Users/abhramishra/ticket-master/client/src/components/departments/List.js"],"names":["React","DepartmentForm","axios","DepartmentList","Component","constructor","handleSubmit","formData","post","headers","localStorage","getItem","then","response","department","data","setState","prevState","departments","concat","catch","err","alert","handleRemove","id","confirm","window","delete","filter","dept","_id","state","componentDidMount","get","console","log","render","length","map","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,QAA3B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAEA,MAAMC,cAAN,SAA6BH,KAAK,CAACI,SAAnC,CAA6C;AACzCC,EAAAA,WAAW,GAAG;AACV;;AADU,SAsBdC,YAtBc,GAsBEC,QAAD,IAAc;AACzBL,MAAAA,KAAK,CAACM,IAAN,CAAW,cAAX,EAA0BD,QAA1B,EAAoC;AAChCE,QAAAA,OAAO,EAAE;AACL,oBAAUC,YAAY,CAACC,OAAb,CAAqB,WAArB;AADL;AADuB,OAApC,EAKCC,IALD,CAKOC,QAAD,IAAc;AAChB,cAAMC,UAAU,GAAGD,QAAQ,CAACE,IAA5B;AACA,aAAKC,QAAL,CAAcC,SAAS,KAAK;AACxBC,UAAAA,WAAW,EAAED,SAAS,CAACC,WAAV,CAAsBC,MAAtB,CAA6BL,UAA7B;AADW,SAAL,CAAvB;AAGH,OAVD,EAWCM,KAXD,CAWQC,GAAD,IAAS;AACZC,QAAAA,KAAK,CAACD,GAAD,CAAL;AACH,OAbD;AAcH,KArCa;;AAAA,SAwCdE,YAxCc,GAwCEC,EAAD,IAAQ;AACnB,YAAMC,OAAO,GAAGC,MAAM,CAACD,OAAP,CAAe,gBAAf,CAAhB;;AACA,UAAIA,OAAJ,EAAa;AACTvB,QAAAA,KAAK,CAACyB,MAAN,CAAc,gBAAeH,EAAG,EAAhC,EAAkC;AAC9Bf,UAAAA,OAAO,EAAE;AACL,sBAAUC,YAAY,CAACC,OAAb,CAAqB,WAArB;AADL;AADqB,SAAlC,EAKCC,IALD,CAKOC,QAAD,IAAc;AAChB,gBAAMC,UAAU,GAAGD,QAAQ,CAACE,IAA5B;AACA,eAAKC,QAAL,CAAcC,SAAS,KAAK;AACxBC,YAAAA,WAAW,EAAED,SAAS,CAACC,WAAV,CAAsBU,MAAtB,CAA6BC,IAAI,IAAIA,IAAI,CAACC,GAAL,IAAYhB,UAAU,CAACgB,GAA5D;AADW,WAAL,CAAvB;AAGH,SAVD,EAWCV,KAXD,CAWQC,GAAD,IAAS;AACZC,UAAAA,KAAK,CAACD,GAAD,CAAL;AACH,SAbD;AAcH;AAEJ,KA3Da;;AAEV,SAAKU,KAAL,GAAa;AACTb,MAAAA,WAAW,EAAE;AADJ,KAAb;AAGH;;AAEDc,EAAAA,iBAAiB,GAAG;AAChB9B,IAAAA,KAAK,CAAC+B,GAAN,CAAU,cAAV,EAA0B;AACtBxB,MAAAA,OAAO,EAAE;AACL,kBAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB;AADN;AADa,KAA1B,EAKCC,IALD,CAKOC,QAAD,IAAc;AAChB,YAAMK,WAAW,GAAGL,QAAQ,CAACE,IAA7B;AACA,WAAKC,QAAL,CAAc;AAAEE,QAAAA;AAAF,OAAd;AACH,KARD,EASCE,KATD,CASQC,GAAD,IAAS;AACZa,MAAAA,OAAO,CAACC,GAAR,CAAYd,GAAZ;AACH,KAXD;AAYH;;AAyCDe,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAmB,KAAKL,KAAL,CAAWb,WAAX,CAAuBmB,MAA1C,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,KAAKN,KAAL,CAAWb,WAAX,CAAuBoB,GAAvB,CAA2BxB,UAAU,IAAI;AACrC,aAAO;AAAI,QAAA,GAAG,EAAEA,UAAU,CAACgB,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2BhB,UAAU,CAACyB,IAAtC,OAA6C;AAAQ,QAAA,OAAO,EAAE,MAAM;AACvE,eAAKhB,YAAL,CAAkBT,UAAU,CAACgB,GAA7B;AACH,SAFmD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA7C,CAAP;AAGH,KAJD,CAFR,CAFJ,EAWI,oBAAC,cAAD;AAAgB,MAAA,YAAY,EAAE,KAAKxB,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,CADJ;AAeH;;AA9EwC;;AAiF7C,eAAeH,cAAf","sourcesContent":["import React from 'react'\nimport DepartmentForm from './Form'\nimport axios from '../../config/axios'\n\nclass DepartmentList extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            departments: []\n        }\n    }\n\n    componentDidMount() {\n        axios.get('/departments', { \n            headers: {\n                'x-auth' : localStorage.getItem('authToken')\n            }\n        })\n        .then((response) => {\n            const departments = response.data \n            this.setState({ departments })\n        })\n        .catch((err) => {\n            console.log(err)\n        })\n    }\n\n    handleSubmit = (formData) => {\n        axios.post('/departments',formData, {\n            headers: {\n                'x-auth': localStorage.getItem('authToken')\n            }\n        })\n        .then((response) => {\n            const department = response.data\n            this.setState(prevState => ({\n                departments: prevState.departments.concat(department)\n            }))\n        })\n        .catch((err) => {\n            alert(err)\n        })\n    }\n\n\n    handleRemove = (id) => {\n        const confirm = window.confirm('Are you sure ?')\n        if (confirm) {\n            axios.delete(`/departments/${id}`,{\n                headers: {\n                    'x-auth': localStorage.getItem('authToken')\n                }\n            })\n            .then((response) => {\n                const department = response.data\n                this.setState(prevState => ({\n                    departments: prevState.departments.filter(dept => dept._id != department._id)\n                }))\n            })\n            .catch((err) => {\n                alert(err)\n            })\n        }\n        \n    }\n    \n    render() {\n        return (\n            <div>\n                <h1>Department - { this.state.departments.length }</h1>\n                <ul>\n                    {\n                        this.state.departments.map(department => {\n                            return <li key={department._id}>{ department.name } <button onClick={() => {\n                                this.handleRemove(department._id)\n                            }}>remove</button></li>\n                        })\n                    }\n                </ul>\n                <DepartmentForm handleSubmit={this.handleSubmit} />\n            </div>\n        )\n    }\n}\n\nexport default DepartmentList"]},"metadata":{},"sourceType":"module"}