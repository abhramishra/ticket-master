{"ast":null,"code":"var _jsxFileName = \"/Users/abhramishra/ticket-master/client/src/components/customers/List.js\";\nimport React from 'react';\nimport axios from '../../config/axios';\nimport { Link } from 'react-router-dom';\n\nclass CustomerList extends React.Component {\n  constructor() {\n    super();\n\n    this.handleClick = id => {\n      const confirm = window.confirm(\"Are you sure ?\");\n\n      if (confirm) {\n        axios.delete(`/customers/${id}`, {\n          headers: {\n            'x-auth': localStorage.getItem('authToken')\n          }\n        }).then(response => {\n          const customer = response.data;\n          this.setState(prevState => ({\n            customers: prevState.customers.filter(cust => cust._id != id)\n          }));\n        }).catch(err => {\n          alert(err);\n        });\n      }\n    };\n\n    this.state = {\n      customers: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get('/customers', {\n      headers: {\n        'x-auth': localStorage.getItem('authToken')\n      }\n    }).then(response => {\n      const customers = response.data;\n      this.setState({\n        customers\n      });\n    }).catch(err => {\n      alert(err);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Listing Customers\"), this.state.customers.length == 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"No customer found. Add your first customer\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.state.customers.map(customer => {\n      return React.createElement(\"li\", {\n        key: customer._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: `/customers/${customer._id}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, customer.name), React.createElement(\"button\", {\n        onClick: () => {\n          this.handleClick(customer._id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Remove\"));\n    }))), React.createElement(Link, {\n      to: \"/customers/new\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Add Customer\"));\n  }\n\n}\n\nexport default CustomerList;","map":{"version":3,"sources":["/Users/abhramishra/ticket-master/client/src/components/customers/List.js"],"names":["React","axios","Link","CustomerList","Component","constructor","handleClick","id","confirm","window","delete","headers","localStorage","getItem","then","response","customer","data","setState","prevState","customers","filter","cust","_id","catch","err","alert","state","componentDidMount","get","render","length","map","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,MAAMC,YAAN,SAA2BH,KAAK,CAACI,SAAjC,CAA2C;AACvCC,EAAAA,WAAW,GAAG;AACV;;AADU,SAqBdC,WArBc,GAqBCC,EAAD,IAAQ;AAClB,YAAMC,OAAO,GAAGC,MAAM,CAACD,OAAP,CAAe,gBAAf,CAAhB;;AACA,UAAIA,OAAJ,EAAa;AACTP,QAAAA,KAAK,CAACS,MAAN,CAAc,cAAaH,EAAG,EAA9B,EAAgC;AAC5BI,UAAAA,OAAO,EAAE;AACL,sBAAUC,YAAY,CAACC,OAAb,CAAqB,WAArB;AADL;AADmB,SAAhC,EAKCC,IALD,CAKOC,QAAD,IAAc;AAChB,gBAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAA1B;AACA,eAAKC,QAAL,CAAcC,SAAS,KAAK;AACxBC,YAAAA,SAAS,EAAED,SAAS,CAACC,SAAV,CAAoBC,MAApB,CAA2BC,IAAI,IAAIA,IAAI,CAACC,GAAL,IAAYhB,EAA/C;AADa,WAAL,CAAvB;AAGH,SAVD,EAWCiB,KAXD,CAWQC,GAAD,IAAS;AACZC,UAAAA,KAAK,CAACD,GAAD,CAAL;AACH,SAbD;AAcH;AACJ,KAvCa;;AAEV,SAAKE,KAAL,GAAa;AACTP,MAAAA,SAAS,EAAE;AADF,KAAb;AAGH;;AACDQ,EAAAA,iBAAiB,GAAG;AAChB3B,IAAAA,KAAK,CAAC4B,GAAN,CAAU,YAAV,EAAwB;AACpBlB,MAAAA,OAAO,EAAE;AACL,kBAAUC,YAAY,CAACC,OAAb,CAAqB,WAArB;AADL;AADW,KAAxB,EAKEC,IALF,CAKQC,QAAD,IAAc;AACjB,YAAMK,SAAS,GAAGL,QAAQ,CAACE,IAA3B;AACA,WAAKC,QAAL,CAAc;AAACE,QAAAA;AAAD,OAAd;AACF,KARF,EASEI,KATF,CASSC,GAAD,IAAS;AACbC,MAAAA,KAAK,CAACD,GAAD,CAAL;AACF,KAXF;AAYH;;AAsBDK,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,EAGQ,KAAKH,KAAL,CAAWP,SAAX,CAAqBW,MAArB,IAA+B,CAA/B,GACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADJ,CADJ,GAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEQ,KAAKJ,KAAL,CAAWP,SAAX,CAAqBY,GAArB,CAAyBhB,QAAQ,IAAI;AACjC,aAAO;AAAI,QAAA,GAAG,EAAEA,QAAQ,CAACO,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuB,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAG,cAAaP,QAAQ,CAACO,GAAI,EAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0CP,QAAQ,CAACiB,IAAnD,CAAvB,EACH;AAAQ,QAAA,OAAO,EAAE,MAAM;AACnB,eAAK3B,WAAL,CAAiBU,QAAQ,CAACO,GAA1B;AACH,SAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADG,CAAP;AAKH,KAND,CAFR,CADJ,CARZ,EAwBI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBJ,CADJ;AA4BH;;AAvEsC;;AA0E3C,eAAepB,YAAf","sourcesContent":["import React from 'react'\nimport axios from '../../config/axios';\nimport { Link } from 'react-router-dom'\n\nclass CustomerList extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            customers: []\n        }\n    }\n    componentDidMount() {\n        axios.get('/customers', {\n            headers: {\n                'x-auth': localStorage.getItem('authToken')\n            }\n        })\n         .then((response) => {\n            const customers = response.data\n            this.setState({customers})\n         })\n         .catch((err) => {\n            alert(err)\n         })\n    }\n\n    handleClick = (id) => {\n        const confirm = window.confirm(\"Are you sure ?\")\n        if (confirm) {\n            axios.delete(`/customers/${id}`,{\n                headers: {\n                    'x-auth': localStorage.getItem('authToken')\n                }\n            })\n            .then((response) => {\n                const customer = response.data\n                this.setState(prevState => ({\n                    customers: prevState.customers.filter(cust => cust._id != id)\n                }))\n            })\n            .catch((err) => {\n                alert(err)\n            })\n        }\n    }\n \n    render() {\n        return (\n            <div>\n                <h2>Listing Customers</h2>\n                {\n                    this.state.customers.length == 0 ? (\n                        <div>\n                            <p>No customer found. Add your first customer</p>\n                        </div>\n                    ) : (\n                        <div>\n                            <ul>\n                                {\n                                    this.state.customers.map(customer => {\n                                        return <li key={customer._id}><Link to={`/customers/${customer._id}`}>{ customer.name }</Link>\n                                            <button onClick={() => {\n                                                this.handleClick(customer._id)\n                                            }}>Remove</button>\n                                        </li>\n                                    })\n                                }\n                            </ul>\n                        </div>\n                    )\n                }\n                \n                <Link to=\"/customers/new\">Add Customer</Link>\n            </div>\n        )\n    }\n}\n\nexport default CustomerList"]},"metadata":{},"sourceType":"module"}